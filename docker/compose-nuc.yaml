services:
  syncthing:
    image: linuxserver/syncthing:2.0.10
    container_name: syncthing
    environment:
      PUID: 0
      PGID: 0
      TZ: Asia/Bangkok
      UMASK_SET: <022>
    volumes:
      - /home/ubuntu/Apps:/data/Apps
      - /opt/syncthing/config:/config
      - /opt/syncthing/:/data
      - /opt/immich/upload:/data/immich/upload
    ports:
      - 8384:8384
      - 22000:22000
      - 21027:21027/udp
    restart: always
    networks:
      - syncthing
  transmission:
    image: linuxserver/transmission:4.0.6
    container_name: transmission
    environment:
      PUID: 1000
      PGID: 1000
      TZ: Asia/Bangkok
      USER: transmission #optional
      PASS: ${TRANSMISSION_PASSWORD} #optional
    volumes:
      - /opt/transmission/config:/config
      - /opt/transmission/downloads:/downloads
      - /opt/transmission/watch:/watch
    ports:
      - 9000:9091
      - 51413:51413
      - 51413:51413/udp
    restart: always
    env_file: .transmission.env
    deploy:
      resources:
        limits:
          memory: 2G
    networks:
      - transmission
networks:
  syncthing:
    driver: bridge
  transmission:
    driver: bridge
