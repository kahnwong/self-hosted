---
name: transmission
replicaCount: 1

containers:
  - name: transmission
    repository: linuxserver/transmission
    tag: version-3.00-r8
    ports:
      - containerPort: 9091
      - containerPort: 51413
        protocol: TCP
      - containerPort: 51413
        protocol: UDP
    healthcheck: false
    env:
      - name: TZ
        value: Asia/Bangkok
      - name: PUID
        value: "1000"
      - name: PGID
        value: "1000"
      - name: TRANSMISSION_WEB_HOME
        value: /combustion-release/
      - name: USER
        value: transmission
    envFrom:
      - secretRef:
          name: transmission
    resources:
      limits:
        cpu: 512m
        memory: 256Mi
      requests:
        cpu: 128m
        memory: 128Mi
    volumeMounts:
      - name: transmission-config
        mountPath: /config
      - name: transmission-downloads
        mountPath: /downloads
      - name: transmission-watch
        mountPath: /watch

volumes:
  - name: transmission-config
    hostPath:
      path: /opt/transmission/config
  - name: transmission-downloads
    hostPath:
      path: /opt/transmission/downloads
  - name: transmission-watch
    hostPath:
      path: /opt/transmission/watch

service:
  ports:
    - name: http
      port: 9091
      targetPort: 9091
      nodePort: 30014
    - name: transmission-tcp
      port: 51413
      targetPort: 51413
      protocol: TCP
    - name: transmission-udp
      port: 51413
      targetPort: 51413
      protocol: UDP
