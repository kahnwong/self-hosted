---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: 01-1-lunch-ask
spec:
  schedule: "30 3 * * *" # 10:30 AM Asia/Bangkok
  jobTemplate:
    metadata:
      name: 01-1-lunch-ask
    spec:
      template:
        spec:
          containers:
            - name: 01-1-lunch-ask
              image: harbor.karnwong.me/family-alerts/family-alerts:7a49948
              command: ["python3"]
              args:
                - family_alerts/01.1_lunch_ask.py
              envFrom:
                - secretRef:
                    name: family-alerts
          imagePullSecrets:
            - name: harbor-cfg
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: 01-2-lunch-order
spec:
  schedule: "0 4 * * *" # 11:00 AM Asia/Bangkok
  jobTemplate:
    metadata:
      name: 01-2-lunch-order
    spec:
      template:
        spec:
          containers:
            - name: 01-2-lunch-order
              image: harbor.karnwong.me/family-alerts/family-alerts:7a49948
              command: ["python3"]
              args:
                - family_alerts/01.2_lunch_order.py
              envFrom:
                - secretRef:
                    name: family-alerts
          imagePullSecrets:
            - name: harbor-cfg
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: 02-1-dinner-ask-family
spec:
  schedule: "0 9 * * *" # 4:00 PM Asia/Bangkok
  jobTemplate:
    metadata:
      name: 02-1-dinner-ask-family
    spec:
      template:
        spec:
          containers:
            - name: 02-1-dinner-ask-family
              image: harbor.karnwong.me/family-alerts/family-alerts:7a49948
              command: ["python3"]
              args:
                - family_alerts/02.1_dinner_ask_family.py
              envFrom:
                - secretRef:
                    name: family-alerts
          imagePullSecrets:
            - name: harbor-cfg
          restartPolicy: Never
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: 02-2-dinner-update-granny
spec:
  schedule: "30 9 * * *" # 4:30 PM Asia/Bangkok
  jobTemplate:
    metadata:
      name: 02-2-dinner-update-granny
    spec:
      template:
        spec:
          containers:
            - name: 02-2-dinner-update-granny
              image: harbor.karnwong.me/family-alerts/family-alerts:7a49948
              command: ["python3"]
              args:
                - family_alerts/02.2_dinner_update_granny.py
              envFrom:
                - secretRef:
                    name: family-alerts
          imagePullSecrets:
            - name: harbor-cfg
          restartPolicy: Never
