kind: Deployment
name: pigallery2
replicaCount: 1
containers:
  - name: pigallery2
    repository: bpatrik/pigallery2
    tag: latest
    port: 80
    env:
      - name: NODE_ENV
        value: production
    volumeMounts:
      - name: config
        mountPath: /app/data/config
      - name: db
        mountPath: /app/data/db
      - name: images
        mountPath: /app/data/images
        readOnly: true
      - name: tmp
        mountPath: /app/data/tmp
volumes:
  - name: config
    hostPath:
      path: /opt/pigallery2/config
  - name: db
    hostPath:
      path: /opt/pigallery2/db
  - name: images
    hostPath:
      path: /opt/pigallery2/images
  - name: tmp
    hostPath:
      path: /opt/pigallery2/tmp
service:
  port: 80
  nodePort: 30084
