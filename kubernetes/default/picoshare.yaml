---
name: picoshare
replicaCount: 1

deployments:
  containers:
    - name: picoshare
      repository: mtlynch/picoshare
      tag: 1.3.6
      port: 4001
      args: ["-db", "/data/store.db", "-vacuum", "true"]
      envFrom:
        - secretRef:
            name: picoshare
      resources:
        limits:
          cpu: "2"
          memory: 1G
        requests:
          cpu: "1"
          memory: 512Mi
      volumeMounts:
        - name: picoshare-data
          mountPath: /data
  volumes:
    - name: picoshare-data
      hostPath:
        path: /opt/picoshare/data
  service:
    port: 4001
    nodePort: 30017
